<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test École de la Démocratie - CGT</title>
  
  <!-- React et ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  
  <!-- Babel pour JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body class="bg-gray-100">
  <nav class="bg-red-700 text-white p-4">
    <ul class="flex justify-center space-x-4">
      <li><a href="index.html" class="hover:text-red-200">Accueil</a></li>
      <li><a href="#" class="text-white font-bold">École de la Démocratie</a></li>
    </ul>
  </nav>

  <div class="container mx-auto p-6">
    <div id="root"></div>
  </div>

  <footer class="bg-gray-800 text-white text-center p-4">
    <p>&copy; 2025 CGT - Outil de point d'étape sur la syndicalisation</p>
  </footer>

  <script type="text/babel">
    // TabNav.js
    function TabNav({ tabs, activeTab, onTabChange }) {
      return (
        <div className="flex border-b">
          {tabs.map(tab => (
            <button
              key={tab.id}
              className={`px-4 py-2 font-medium rounded-t transition ${
                activeTab === tab.id 
                  ? `${tab.color} text-white` 
                  : 'bg-gray-200 hover:bg-gray-300'
              }`}
              onClick={() => onTabChange(tab.id)}
            >
              {tab.label}
            </button>
          ))}
        </div>
      );
    }

    // BesoinsEtape.js
    function BesoinsEtape() {
      return (
        <div>
          <h4 className="text-lg font-semibold mb-4">1ère Étape : BESOINS</h4>
          
          <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6">
            <p className="font-medium">
              Cette étape cruciale consiste à aller à la rencontre des salariés pour recueillir leurs besoins,
              leurs attentes et leurs préoccupations. C'est le fondement d'une démarche CGT authentiquement démocratique.
            </p>
          </div>
          
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div className="bg-white border rounded-lg shadow p-4">
              <h5 className="font-bold text-red-700 mb-3">AG Syndiqués : auteurs, acteurs, décideurs</h5>
              <p className="mb-3">
                L'Assemblée Générale des syndiqués est le moment clé pour présenter la démarche et organiser le recueil des besoins.
              </p>
              <ul className="list-disc pl-5 mb-3">
                <li>Présentation des enjeux du contexte</li>
                <li>Présentation de la démarche</li>
                <li>Présentation des outils</li>
              </ul>
              <button className="bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800">
                Guide d'animation d'AG
              </button>
            </div>
            
            <div className="bg-white border rounded-lg shadow p-4">
              <h5 className="font-bold text-red-700 mb-3">Déploiement sur le terrain</h5>
              <p className="mb-3">
                Organisation du déploiement des syndiqués avec les outils appropriés pour aller au plus près des salariés.
              </p>
              <ul className="list-disc pl-5 mb-3">
                <li>Outils de questionnaires besoins</li>
                <li>Tournées de services avec les élus</li>
                <li>Rencontres individuelles</li>
              </ul>
              <button className="bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800">
                Outils de déploiement
              </button>
            </div>
          </div>
          
          <div className="bg-white border rounded-lg shadow p-4">
            <h5 className="font-bold text-red-700 mb-3">Outils pratiques pour le recueil des besoins</h5>
            
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div className="border p-3 rounded">
                <h6 className="font-semibold">Questionnaire besoins</h6>
                <p className="text-sm mt-2">Modèle de questionnaire à adapter par service et catégorie.</p>
                <button className="mt-2 text-sm bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">
                  Télécharger
                </button>
              </div>
              
              <div className="border p-3 rounded">
                <h6 className="font-semibold">Check-list tournées</h6>
                <p className="text-sm mt-2">Organisation des tournées de services avec les points à aborder.</p>
                <button className="mt-2 text-sm bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">
                  Télécharger
                </button>
              </div>
              
              <div className="border p-3 rounded">
                <h6 className="font-semibold">Fiche synthèse besoins</h6>
                <p className="text-sm mt-2">Pour compiler et analyser les besoins recueillis.</p>
                <button className="mt-2 text-sm bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">
                  Télécharger
                </button>
              </div>
            </div>
          </div>
        </div>
      );
    }

    // PhaseAvant.js
    function PhaseAvant({ activeEtape, onSelectEtape }) {
      // Définir les étapes spécifiques à cette phase
      const etapes = [
        { id: 'besoins', label: '1ère Étape: BESOINS', color: 'bg-yellow-500' },
        { id: 'analyses', label: 'Analyses préparatoires', color: 'bg-orange-500' }
      ];

      return (
        <div>
          <h3 className="text-xl font-bold mb-6">Phase préparatoire : Avant...</h3>
          
          <div className="bg-gray-100 p-4 rounded-lg mb-6">
            <h4 className="font-semibold mb-2">Objectifs de cette phase</h4>
            <p>
              La phase "Avant" est cruciale pour préparer le terrain. Elle consiste à analyser la situation,
              comprendre les besoins des salariés, et organiser la démarche syndicale. C'est ici que nous
              posons les fondations pour une campagne électorale réussie.
            </p>
          </div>
          
          <div className="flex border-b mb-4">
            {etapes.map(etape => (
              <button
                key={etape.id}
                className={`px-4 py-2 font-medium rounded-t transition ${
                  activeEtape === etape.id 
                    ? `${etape.color} text-white` 
                    : 'bg-gray-200 hover:bg-gray-300'
                }`}
                onClick={() => onSelectEtape(etape.id)}
              >
                {etape.label}
              </button>
            ))}
          </div>
          
          <div className="mt-6">
            {(!activeEtape || activeEtape === 'besoins') && (
              <BesoinsEtape />
            )}
            
            {activeEtape === 'analyses' && (
              <div>
                <h4 className="text-lg font-semibold mb-4">Analyses stratégiques</h4>
                
                <div className="bg-white border p-4 rounded mb-4">
                  <h5 className="font-bold">Analyse du dernier scrutin</h5>
                  <p>Guide pour analyser les résultats précédents et en tirer des enseignements.</p>
                  <button className="mt-2 bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800">
                    Télécharger l'outil d'analyse
                  </button>
                </div>
                
                <div className="bg-white border p-4 rounded mb-4">
                  <h5 className="font-bold">Ratio syndiqués CGT / voix CGT / salariés</h5>
                  <p>Outil pour évaluer votre potentiel de progression et identifier les secteurs prioritaires.</p>
                  <button className="mt-2 bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800">
                    Calculer votre potentiel
                  </button>
                </div>
                
                <div className="bg-white border p-4 rounded">
                  <h5 className="font-bold">Cartographie de l'entreprise</h5>
                  <p>Modèle pour établir une cartographie détaillée des services et catégories professionnelles.</p>
                  <button className="mt-2 bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800">
                    Télécharger le modèle
                  </button>
                </div>
              </div>
            )}
          </div>
        </div>
      );
    }

    // PhasePendant.js
    function PhasePendant({ activeEtape, onSelectEtape }) {
      return (
        <div>
          <h3 className="text-xl font-bold mb-6">Phase d'exécution : Pendant...</h3>
          
          <div className="bg-gray-100 p-4 rounded-lg mb-6">
            <h4 className="font-semibold mb-2">À propos de cette phase</h4>
            <p>
              La phase "Pendant" est le moment où l'on traduit les besoins recueillis en revendications concrètes,
              puis où l'on mobilise les salariés autour de ces revendications. C'est le cœur de l'action syndicale.
            </p>
          </div>
          
          <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
            <p className="italic">
              Ce contenu sera développé dans une prochaine version de l'application.
            </p>
          </div>
        </div>
      );
    }

    // PhaseApres.js
    function PhaseApres() {
      return (
        <div>
          <h3 className="text-xl font-bold mb-6">Phase de bilan : Après...</h3>
          
          <div className="bg-gray-100 p-4 rounded-lg mb-6">
            <h4 className="font-semibold mb-2">À propos de cette phase</h4>
            <p>
              La phase "Après" permet de faire le bilan de la démarche, d'analyser les résultats obtenus
              et de préparer les prochaines étapes. C'est un moment crucial pour capitaliser sur l'expérience
              acquise et renforcer la CGT.
            </p>
          </div>
          
          <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
            <p className="italic">
              Ce contenu sera développé dans une prochaine version de l'application.
            </p>
          </div>
        </div>
      );
    }

    // SchemaGlobal.js
    function SchemaGlobal({ onSelectEtape }) {
      return (
        <div className="relative">
          {/* Titres des phases */}
          <div className="flex justify-between mb-8 text-xl font-bold">
            <div className="w-1/3 text-center">Avant...</div>
            <div className="w-1/3 text-center">Pendant...</div>
            <div className="w-1/3 text-center">Après...</div>
          </div>
          
          {/* Contenu principal */}
          <div className="flex">
            {/* Colonne Vie Syndicale */}
            <div className="w-1/6 bg-purple-700 text-white p-4 rounded-l-lg">
              <div className="transform -rotate-90 origin-center text-2xl font-bold h-64 flex items-center justify-center">
                VIE SYNDICALE
              </div>
            </div>
            
            {/* Phases du processus */}
            <div className="w-5/6">
              {/* Organisation */}
              <div className="bg-green-200 p-4 mb-4 rounded-r-lg">
                <h3 className="font-bold text-lg mb-2">ORGANISATION</h3>
                <ul className="list-disc pl-5">
                  <li>Critères représentativité</li>
                  <li>Connaissance fine salariat</li>
                  <li>Bilan Pratiques démocratiques</li>
                  <li>Bilan informations formation</li>
                  <li>Bilan activité IRP élus</li>
                  <li>Bilan Droits planning militant</li>
                  <li>Bilan financiers</li>
                  <li>Analyse dernier scrutin</li>
                  <li>Analyse dernière campagne</li>
                  <li>Bilan communication</li>
                  <li>Liens UL UD FD</li>
                </ul>
              </div>
              
              {/* Les trois étapes clés */}
              <div className="flex space-x-4 mb-4">
                {/* Étape 1 : Besoins */}
                <button 
                  onClick={() => onSelectEtape('besoins')}
                  className="w-1/3 bg-yellow-500 hover:bg-yellow-600 p-4 rounded-lg text-white transition"
                >
                  <h3 className="font-bold text-lg mb-2">1ère Étape BESOINS</h3>
                  <div className="text-left">
                    <p>AG Syndiqués auteurs acteurs décideurs</p>
                    <ul className="list-disc pl-5 mt-2">
                      <li>Présentation des enjeux, du contexte...</li>
                      <li>Déploiement avec outils...</li>
                    </ul>
                  </div>
                </button>
                
                {/* Étape 2 : Revendications */}
                <button 
                  onClick={() => onSelectEtape('revendications')}
                  className="w-1/3 bg-green-500 hover:bg-green-600 p-4 rounded-lg text-white transition"
                >
                  <h3 className="font-bold text-lg mb-2">2ème Étape REVENDICATIONS</h3>
                  <div className="text-left">
                    <p>AG Syndiqués auteurs acteurs décideurs</p>
                    <ul className="list-disc pl-5 mt-2">
                      <li>Bilan besoins</li>
                      <li>Élaboration démocratique du cahier revendicatif</li>
                    </ul>
                  </div>
                </button>
                
                {/* Étape 3 : Mobilisation */}
                <button 
                  onClick={() => onSelectEtape('mobilisation')}
                  className="w-1/3 bg-blue-500 hover:bg-blue-600 p-4 rounded-lg text-white transition"
                >
                  <h3 className="font-bold text-lg mb-2">3ème étape MOBILISATION</h3>
                  <div className="text-left">
                    <p>AG salariés</p>
                    <ul className="list-disc pl-5 mt-2">
                      <li>Pointage des syndiqués</li>
                      <li>Rappel des salariés soutenus</li>
                    </ul>
                  </div>
                </button>
              </div>
              
              {/* Sections transversales */}
              <div className="bg-yellow-100 p-4 mb-4 rounded-lg">
                <h3 className="font-bold">COMMUNICATION</h3>
                <p>actions et outils pour soutenir et faire vivre la bataille des idées pour convaincre</p>
              </div>
              
              <div className="bg-orange-100 p-4 mb-4 rounded-lg">
                <h3 className="font-bold">IRP PREROGATIVES</h3>
                <p>pour renforcer notre argumentation et la bataille des idées dans nos AG nos tracts</p>
              </div>
              
              <div className="bg-red-100 p-4 mb-4 rounded-lg">
                <h3 className="font-bold">DROITS ET MOYENS</h3>
                <p>Pour faire vivre la démarche</p>
              </div>
              
              <div className="bg-blue-100 p-4 rounded-lg">
                <h3 className="font-bold">UL UD FD UGICT</h3>
                <p>pour soutenir l'action et renforcer les Contenus REVENDICATIFS sur les enjeux Locaux Interpro Pro Spécifiques</p>
              </div>
            </div>
          </div>
          
          {/* Jour J */}
          <div className="absolute right-0 top-1/2 transform -translate-y-1/2 bg-red-700 text-white p-6 rounded-l-full shadow-lg">
            <div className="font-bold text-2xl">JOUR J</div>
            <div>DE LUTTE</div>
          </div>
        </div>
      );
    }

    // EcoleDemocratie.js
    function EcoleDemocratie() {
      // États pour gérer la navigation entre les phases et les étapes
      const [activePhase, setActivePhase] = React.useState('schema');
      const [activeEtape, setActiveEtape] = React.useState(null);

      // Définition des phases disponibles avec leurs propriétés
      const phases = [
        { id: 'schema', label: 'Vue d\'ensemble', color: 'bg-red-700' },
        { id: 'avant', label: 'Avant...', color: 'bg-yellow-600' },
        { id: 'pendant', label: 'Pendant...', color: 'bg-green-600' },
        { id: 'apres', label: 'Après...', color: 'bg-blue-600' }
      ];

      // Fonction appelée quand l'utilisateur change de phase
      const handlePhaseChange = (phaseId) => {
        setActivePhase(phaseId);
        setActiveEtape(null);
      };

      // Fonction appelée quand l'utilisateur change d'étape
      const handleEtapeChange = (etapeId) => {
        setActiveEtape(etapeId);
        
        // Si on sélectionne une étape, on bascule aussi vers la phase correspondante
        if (etapeId === 'besoins') {
          setActivePhase('avant');
        } else if (['revendications', 'mobilisation'].includes(etapeId)) {
          setActivePhase('pendant');
        }
      };

      return (
        <div className="bg-white rounded-lg shadow-lg p-6">
          <h2 className="text-2xl font-bold text-red-700 mb-6">
            RETROPLANNING de la DÉMARCHE - une École de la DÉMOCRATIE
          </h2>
          
          <div className="mb-8">
            <blockquote className="border-l-4 border-red-600 pl-4 italic">
              "La démarche, c'est mener la bataille revendicative, c'est la construction de la mobilisation pour gagner!"
            </blockquote>
            <p className="mt-2">
              C'est la capacité de chaque syndicat CGT à déployer à partir de sa force organisée sa DÉMARCHE 
              DÉMOCRATIQUE pour bâtir un CAHIER REVENDICATIF répondant aux besoins exprimés au plus près des postes 
              de travail et convaincre par la bataille d'idée le plus grand nombre de salariés à décider de se mobiliser au 
              Vote CGT, à la syndicalisation CGT, entrer dans l'action CGT pour GAGNER !
            </p>
          </div>

          {/* Navigation entre les phases */}
          <TabNav 
            tabs={phases} 
            activeTab={activePhase} 
            onTabChange={handlePhaseChange}
          />

          {/* Contenu spécifique à la phase active */}
          <div className="mt-6">
            {activePhase === 'schema' && (
              <SchemaGlobal onSelectEtape={handleEtapeChange} />
            )}
            
            {activePhase === 'avant' && (
              <PhaseAvant activeEtape={activeEtape} onSelectEtape={handleEtapeChange} />
            )}
            
            {activePhase === 'pendant' && (
              <PhasePendant activeEtape={activeEtape} onSelectEtape={handleEtapeChange} />
            )}
            
            {activePhase === 'apres' && (
              <PhaseApres />
            )}
          </div>

          {/* Sections transversales */}
          <div className="mt-10 border-t pt-6">
            <h3 className="text-xl font-semibold text-red-600 mb-4">Éléments transversaux de la démarche</h3>
            
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
              <div className="bg-red-100 p-4 rounded">
                <h4 className="font-bold">CAHIER REVENDICATIF</h4>
                <p>cf. bataille d'idée et repères de CLASSE</p>
              </div>
              
              <div className="bg-red-100 p-4 rounded">
                <h4 className="font-bold">DÉMOCRATIE SYNDICALE</h4>
                <p>Cf. Syndicalisme démocratique de MASSE</p>
              </div>
              
              <div className="bg-red-100 p-4 rounded">
                <h4 className="font-bold">DÉMOCRATIE OUVRIÈRE</h4>
                <p>cf. LUTTE</p>
              </div>
              
              <div className="bg-red-100 p-4 rounded">
                <h4 className="font-bold">DIRECTION SYNDICALE</h4>
                <p>POUR ARTICULER L'ENSEMBLE DES DIMENSIONS DE LA VIE SYNDICALE</p>
              </div>
            </div>
          </div>
        </div>
      );
    }

    // Rendu du composant principal
    ReactDOM.render(
      <EcoleDemocratie />,
      document.getElementById('root')
    );
  </script>
</body>
</html>